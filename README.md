# Voqo

AI Voice Agent Platform for Real Estate - Built with Ralph

## What is This?

Voqo is an open-source AI phone answering agent platform. This project uses the **Ralph methodology** - an autonomous AI coding loop that builds software iteratively using Claude.

## Prerequisites

- **Node.js** 18+ and **pnpm**
- **Claude CLI** installed and authenticated (`npm install -g @anthropic-ai/claude-code`)
- **Git** initialized in project root
- API keys (optional for development, required for production):
  - ElevenLabs API key
  - Twilio Account SID and Auth Token

## Quick Start

### 1. Initial Setup

```bash
# Initialize git if not already done
git init
git add -A
git commit -m "Initial commit with specs and Ralph setup"

# Create environment file
cp .env.example .env.local
# Edit .env.local with your API keys
```

### 2. Run Planning Mode

First, generate the implementation plan:

```bash
./loop.sh plan
```

This will:
- Analyze all specs in `specs/`
- Compare against existing code (empty initially)
- Generate `IMPLEMENTATION_PLAN.md` with prioritized tasks

Press `Ctrl+C` after the plan is generated (usually 1-2 iterations).

### 3. Run Building Mode

Start the build loop:

```bash
./loop.sh
```

Or with a max iteration limit:

```bash
./loop.sh 20    # Run max 20 iterations
```

This will:
- Pick the highest priority task from the plan
- Implement it completely
- Validate (TypeScript + lint)
- Commit and push on success
- Update the plan
- Repeat

## Ralph Modes

| Command | Mode | Description |
|---------|------|-------------|
| `./loop.sh` | Build | Implement tasks, unlimited iterations |
| `./loop.sh 20` | Build | Implement tasks, max 20 iterations |
| `./loop.sh plan` | Plan | Generate/update implementation plan |
| `./loop.sh plan 3` | Plan | Plan mode, max 3 iterations |

## Key Files

| File | Purpose |
|------|---------|
| `loop.sh` | Ralph outer loop script |
| `PROMPT_plan.md` | Planning mode instructions |
| `PROMPT_build.md` | Building mode instructions |
| `AGENTS.md` | Operational guide (build commands, patterns) |
| `IMPLEMENTATION_PLAN.md` | Prioritized task list (generated by Ralph) |
| `specs/*.md` | Feature specifications (11 files) |

## Monitoring Progress

While Ralph runs:

1. **Watch the terminal** - See real-time progress
2. **Check git log** - Each successful task = one commit
3. **Read IMPLEMENTATION_PLAN.md** - Updated after each task
4. **Run the app** - `pnpm dev` in another terminal to see progress

## Intervention Points

### When to Stop and Intervene

- **Wrong direction**: Ralph implementing something incorrectly
- **Loops**: Same task failing repeatedly
- **Spec ambiguity**: Ralph notes confusion in the plan

### How to Course Correct

1. `Ctrl+C` to stop the loop
2. Edit `specs/*.md` if requirements unclear
3. Edit `IMPLEMENTATION_PLAN.md` to reprioritize
4. Edit `AGENTS.md` if operational commands wrong
5. Restart: `./loop.sh`

### Regenerate Plan

If the plan is stale or wrong:

```bash
rm IMPLEMENTATION_PLAN.md
./loop.sh plan
```

## Escape Hatches

| Problem | Solution |
|---------|----------|
| Stop loop | `Ctrl+C` |
| Revert uncommitted changes | `git checkout .` |
| Revert last commit | `git reset --soft HEAD~1` |
| Start fresh | `git reset --hard origin/main` |
| Wrong plan | Delete `IMPLEMENTATION_PLAN.md`, run plan mode |

## Project Structure (Target)

```
voqo/
├── app/
│   ├── (marketing)/        # Landing page
│   ├── (dashboard)/        # Dashboard app
│   └── api/                # API routes
├── components/
│   ├── ui/                 # Shadcn components
│   ├── marketing/          # Landing page components
│   └── dashboard/          # Dashboard components
├── lib/
│   ├── db/                 # Database schema & client
│   ├── elevenlabs/         # ElevenLabs integration
│   └── twilio/             # Twilio integration
├── specs/                  # Feature specifications
├── loop.sh                 # Ralph loop script
├── PROMPT_plan.md          # Planning prompt
├── PROMPT_build.md         # Building prompt
├── AGENTS.md               # Operational guide
└── IMPLEMENTATION_PLAN.md  # Generated task list
```

## Tech Stack

- **Frontend**: Next.js 14+ (App Router)
- **UI**: Shadcn/ui + Tailwind CSS
- **Database**: SQLite + Drizzle ORM
- **Voice AI**: ElevenLabs Conversational AI
- **Telephony**: Twilio
- **AI Builder**: Claude (via Ralph methodology)

## Safety Notes

This project runs with `--dangerously-skip-permissions` flag, which bypasses Claude's permission system. This is required for autonomous operation but means:

- **Run in isolated environment** when possible
- **Don't store sensitive credentials** in the project
- **Review commits** periodically
- **Use git** as your safety net

## Credits

Built using the [Ralph Wiggum Technique](https://ghuntley.com/ralph/) by Geoffrey Huntley.

## License

MIT
